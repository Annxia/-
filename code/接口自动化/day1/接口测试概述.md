## 接口测试概述
#### 什么是接口测试
1. 接口类型：
    - 概念  
        一种是内部接口：方法与方法之间的交互；模块与模块之间的交互
        一种是调用对外包装的接口
    - web接口
    - 应用程序接口
    - 数据库接口  
   
2. 常用接口方式
    1. webService：是走soap协议，通过HTTP传输，请求报文和返回报文都是xml格式的，还需要解析，麻烦，而且速度可能有降低；严格
    2. Http: 超文本传输协议,Post,Get
    3. Https: 并非是应用层的一种新协议,只是Http通信接口部分用SSL和TLS协议代替而已
    4. webSocket: 实时性强,稳定;使用场景：聊天系统，股权交易，直播-部分业务

    - HTTP协议  
        - 请求报文：四个部分  
        第一部分：**请求行**。独占一行，由请求方法、请求路径、请求协议/版本组成。
        第二部分：**请求头**。从第二行到第N行。由键值对组成。可以有1对，也可以N对。
        第三部分：**空行**。独占一行，由回车换行组成。
        第四部分：**请求正文**(请求消息体)。
          
        常见请求头含义：  
        1. User_Agent:告诉服务器客户端的相关信息(如果是浏览器会有版本，内核等信息)
        2. referer：告诉服务器，此请求是从哪个页面上发出来的(防盗链)
        3. X-Requested-With:告诉服务器这个是一个ajax请求
        4. Cookie:带给服务器的cookie信息
        5. content-type：告诉服务器消息体的数据类型      
                
        - 响应报文：四个部分  
        第一部分：**状态行**，独占一行。由协议/协议的版本、状态码、状态描述符组成   
        第二部分：**响应头**，从第二行到第N行。由键值对组成。  
        第三部分：**空行**，独占一行的。由回车换行组成
        第四部分：**响应的正文**  
            
        常见响应头的含义：  
        1. location:告诉浏览器跳到哪里
        2. content-length:告诉浏览器回送数据的长度
        3. content-type：告诉浏览器回送数据的类型
          
3. 为什么做接口测试
    - 项目需求
    - 市场需求
4. 接口测试目标
    1. 可能发现客户端没有发现的bug(那么也叫隐藏bug)
    2. 及早爆出风险(保证质量正常上线)
    3. 接口稳定了,前端随便改
    4. 最重要的检查系统安全性,稳定性
   
#### 接口自动化测试概述
1. 流程  
    项目业务->接口文档->接口用例  
    自动化脚本->自动化框架->调试&执行  
    测试报告->结果分析->持续集成  

#### HTTP协议概述
1. HTTP响应状态码(常见)
    - 1xx:
    - 2xx:  
        200 客户端请求成功
    - 3xx:  
        301 永久性重定向  
        302 临时性重定向
    - 4xx:  
        403 服务器收到请求,但拒绝提供服务   
        404 请求的资源不存在
    - 5xx:服务器错误  
        500 服务器发生不可预期的错误  

2. cookie和sessionId
   - cookie: 服务器发给客户端
        - 在请求的相应数据- 响应头- Set-cookies
        - 本地存放
        - cookies攻击
   - sessionId: 会话Id
        - 身份验证
        - 存放到服务器
 
##### Fiddler接口使用技巧
1. 代理
    - 正向代理
        - 抓包工具
        - 对客户端透明
    - 反向代理
    
2. Fiddler常用设置技巧
    - 隐藏Host为tunnel to的会话  
    方法：Rules->Hide Connects,前面的勾勾起来。HTTPS建立会话隧道不显示
    - 隐藏图片类会话  
    方法：Rules->Hide image requests,把前面的勾勾起来。图片类会话不会显示  
    - 快速清空会话列表  
    方法：ctrl+X
    - Fiddler过滤器设置  

#### 接口测试数据格式
1. 接口自动化测试数据源
    - execl测试用例
    - yaml格式用例
 
2. 自动化脚本中的数据类型
    - 表单格式
        - [urlencoded格式]：又叫form格式，或者是x-www-form-urlencoded格式
        - 口诀：表单格式是由键值对组成。键值之间用=，多个键值对之间用&；例如：name=zhangsan&age=18
     
    - JSON格式
        - 口诀1: JSON有对象、数组两种结构，有字符串、数字、逻辑值、空值四种数据类型
        - 口诀2: 用大括号{}表示对象。对象是由属性组成的。属性是由键值对组成的。键和之间用冒号隔开。属性之间用逗号隔开。**键必须用双引号引起来**
        - 口诀3: 用中括号[]表示数组。数组由单独的值组成
        - 口诀4: JSON的灵活就在：JSON 可以嵌套  
     